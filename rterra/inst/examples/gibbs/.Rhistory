library(rterra)
tinit(clang="/opt/clang3.3/bin/clang")
a <- as.integer((c(5000,300)))
dyn.load(normalizePath("gibstest.so"))
invisible(gc())
resC <- replicate(10,{invisible(gc);system.time(.Call("doGibbs",a))})["elapsed",]
resC
terraStr(sprintf('terralib.linklibrary("%s")',normalizePath("gibstest.so")))
terraFile(normalizePath("gsltest.t"))
invisible(gc())
resLuaJIT <- replicate(10,{invisible(gc);system.time(.Call("doTerraFunc1","doGibbsJIT",NULL,a))})["elapsed",]
